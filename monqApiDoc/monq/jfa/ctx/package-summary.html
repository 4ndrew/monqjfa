<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="de">
<head>
<!-- Generated by javadoc (version 1.7.0_91) on Sun Dec 27 16:47:47 CET 2015 -->
<title>monq.jfa.ctx (monq packages)</title>
<meta name="date" content="2015-12-27">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="monq.jfa.ctx (monq packages)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li class="navBarCell1Rev">Package</li>
<li>Class</li>
<li><a href="package-use.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
</ul>
<div class="aboutLanguage"><em>monq-1.7.1</em></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../monq/jfa/actions/package-summary.html">Prev Package</a></li>
<li><a href="../../../monq/jfa/xml/package-summary.html">Next Package</a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?monq/jfa/ctx/package-summary.html" target="_top">Frames</a></li>
<li><a href="package-summary.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<div class="header">
<h1 title="Package" class="title">Package&nbsp;monq.jfa.ctx</h1>
<div class="docSummary">
<div class="block">
      adds support for recursive parsing to jfa that in particular
      allows easy XML parsing as an alternative to SAX.</div>
</div>
<p>See:&nbsp;<a href="#package_description">Description</a></p>
</div>
<div class="contentContainer">
<ul class="blockList">
<li class="blockList">
<table class="packageSummary" border="0" cellpadding="3" cellspacing="0" summary="Interface Summary table, listing interfaces, and an explanation">
<caption><span>Interface Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Interface</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="../../../monq/jfa/ctx/ContextStackProvider.html" title="interface in monq.jfa.ctx">ContextStackProvider</a></td>
<td class="colLast">
<div class="block">is the interface to be implemented by an object put into <a href="../../../monq/jfa/DfaRun.html#clientData"><code>DfaRun.clientData</code></a> when any of the actions in <a href="../../../monq/jfa/ctx/package-summary.html"><code>monq.jfa.ctx</code></a> package are used in a <a href="../../../monq/jfa/Nfa.html" title="class in monq.jfa"><code>Nfa</code></a>.</div>
</td>
</tr>
</tbody>
</table>
</li>
<li class="blockList">
<table class="packageSummary" border="0" cellpadding="3" cellspacing="0" summary="Class Summary table, listing classes, and an explanation">
<caption><span>Class Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Class</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="../../../monq/jfa/ctx/Context.html" title="class in monq.jfa.ctx">Context</a></td>
<td class="colLast">
<div class="block">manages a context when running a <a href="../../../monq/jfa/DfaRun.html" title="class in monq.jfa"><code>DfaRun</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../monq/jfa/ctx/ContextManager.html" title="class in monq.jfa.ctx">ContextManager</a></td>
<td class="colLast">
<div class="block">populates a <a href="../../../monq/jfa/Nfa.html" title="class in monq.jfa"><code>Nfa</code></a> with regex/action pairs
 which keep track of nested matching contexts.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../monq/jfa/ctx/IfContext.html" title="class in monq.jfa.ctx">IfContext</a></td>
<td class="colLast">
<div class="block">is an <a href="../../../monq/jfa/FaAction.html" title="interface in monq.jfa"><code>FaAction</code></a> to execute different client actions
 depending on the <a href="../../../monq/jfa/ctx/Context.html" title="class in monq.jfa.ctx"><code>Context</code></a> in which
 <code>IfContext.invoke()</code> is called.</div>
</td>
</tr>
</tbody>
</table>
</li>
</ul>
<a name="package_description">
<!--   -->
</a>
<h2 title="Package monq.jfa.ctx Description">Package monq.jfa.ctx Description</h2>
<div class="block"><p>
      adds support for recursive parsing to jfa that in particular
      allows easy XML parsing as an alternative to SAX. The classes
      supplied do not rely on XML. Rather they provide a more general
      concept of which XML is a special case. The concept implemented
      is called a <em>parsing context</em>. It is defined by the
      stretch of text between matches of two regular expressions for
      the start and the end of the context. The classes in this
      package set up and maintain a stack of such parsing
      contexts. More importantly, they allow context specific action
      callbacks via <a href="../../../monq/jfa/ctx/IfContext.html" title="class in monq.jfa.ctx"><code>IfContext</code></a>.
    </p>

    <p>
      Parsing contexts are set up by adding <a href="../../../monq/jfa/ctx/Context.html" title="class in monq.jfa.ctx"><code>Context</code></a> actions to a <a href="../../../monq/jfa/Nfa.html" title="class in monq.jfa"><code>Nfa</code></a>. While
      this could in principle be done directly with calls to <a href="../../../monq/jfa/Nfa.html#or(java.lang.CharSequence,%20monq.jfa.FaAction)"><code>Nfa.or()</code></a>, it would be tedious and error
      prone. Instead, a <a href="../../../monq/jfa/ctx/ContextManager.html" title="class in monq.jfa.ctx"><code>ContextManager</code></a> must be
      used to populate the <code>Nfa</code>. A typical call to a
      <code>ContextManager</code> looks like this:
      </p>
    <pre>
  ContextManager cmgr = new ContextManager(nfa);
  Context ctx = cmgr.addXml("server")</pre>
    <p>
      This will add two actions to <code>nfa</code> that push/pop a
      context to/from a stack when matching an XML start/end tag with
      the name <code>server</code>. The context can then be used in
      combination with a conditional action:</p>
    <pre>
  nfa.or(Xml.GoofedElement("hostname"), 
         new IfContext(ctx, new StoreHostname())</pre>
    <p>
      The <code>IfContext</code> action makes sure that
      <code>StoreHostname</code> is only called if the
      <code>hostname</code> XML element is found in the given context
      <code>ctx</code>. Additional contexts can be added with <a href="../../../monq/jfa/ctx/IfContext.html#ifthen(monq.jfa.ctx.Context,%20monq.jfa.FaAction)"><code>IfContext.ifthen()</code></a> and <a href="../../../monq/jfa/ctx/IfContext.html#elsedo(monq.jfa.FaAction)"><code>IfContext.elsedo()</code></a>.
    </p>
    
    <p>A context can be used as the parent of another context by
      calling <code>addXml</code> with the parent context as a
      parameter:
    </p>
    <pre>
  Context child = cmgr.addXml(ctx, "propertyList")</pre>
    <p>
      This will wrap the push operation for the generated child
      context into an <code>IfContext</code> action to make sure it is
      only performed in the given parent context. The internally generated
      <code>IfContext</code> object is not available for
      direct manipulation, e.g. for adding an <code>elsdo()</code>, but it
      is safe to directly add an unconditional action to
      the <code>nfa</code> which will then serve as the default
      action. Similarly, it is ok to add an additional
      <code>IfContext</code> object for the same match but for a
      different context.
    </p>

    <p>By default, the text matching the start and the end of a
      context is copied untouched to the output. This can be generally
      changed with <a href="../../../monq/jfa/ctx/ContextManager.html#setDefaultAction(monq.jfa.FaAction)"><code>ContextManager.setDefaultAction()</code></a>
      and similar 
      methods, as well as per context with <a href="../../../monq/jfa/ctx/Context.html#setStartAction(monq.jfa.FaAction)"><code>Context.setStartAction()</code></a> etc.
    </p>

    <h3>Where is the stack</h3>
    <p>During operation of the automaton with a <code>DfaRun</code>,
      the field <a href="../../../monq/jfa/DfaRun.html#clientData"><code>DfaRun.clientData</code></a> must contain an
      object which 
      implements the <a href="../../../monq/jfa/ctx/ContextStackProvider.html" title="interface in monq.jfa.ctx"><code>ContextStackProvider</code></a>
      interface. The <code>Context</code> actions use the
      <code>List</code> provided by this interface as a
      stack. Client actions added to a <code>Context</code> with
      e.g. <code>Context.setStartAction()</code> may also use the
      stack for their own business, as long as they perform paired
      push and pop operations.
    </p>
    <p>For convenience, the method <a href="../../../monq/jfa/ctx/ContextManager.html#createStackProvider()"><code>ContextManager.createStackProvider()</code></a> returns a
      trivial implementation of a <code>ContextStackProvider</code>:
    </p>
    <pre>
  DfaRun r = new DfaRun(dfa, ...);
  r.clientData = ContextManager.createStackProvider();</pre>
    <p>If, however, the <code>clientData</code> field has to carry
      your own information, the object you store in
      <code>clientData</code> need for example only contain an <code>ArrayList</code> and the method <a href="../../../monq/jfa/ctx/ContextStackProvider.html#getStack()"><code>ContextStackProvider.getStack()</code></a> which returns it.
    </p></div>
</div>
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li class="navBarCell1Rev">Package</li>
<li>Class</li>
<li><a href="package-use.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
</ul>
<div class="aboutLanguage"><em>monq-1.7.1</em></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../monq/jfa/actions/package-summary.html">Prev Package</a></li>
<li><a href="../../../monq/jfa/xml/package-summary.html">Next Package</a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?monq/jfa/ctx/package-summary.html" target="_top">Frames</a></li>
<li><a href="package-summary.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small><div class="monqlink">download: <a href='https://pifpafpuf.de/Monq.jfa/download' target='_top'>pifpafpuf.de</a><br/>home page: <a href="http://pifpafpuf.de/Monq.jfa/" target='_top'>pifpafpuf.de/Monq.jfa</a></div></small></p>
</body>
</html>
