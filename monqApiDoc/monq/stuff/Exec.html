<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="de">
<head>
<!-- Generated by javadoc (version 1.7.0_91) on Sun Dec 27 16:47:47 CET 2015 -->
<title>Exec (monq packages)</title>
<meta name="date" content="2015-12-27">
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="Exec (monq packages)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Exec.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
</ul>
<div class="aboutLanguage"><em>monq-1.7.1</em></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../monq/stuff/EncodingDetector.html" title="class in monq.stuff"><span class="strong">Prev Class</span></a></li>
<li><a href="../../monq/stuff/Feeder.html" title="interface in monq.stuff"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?monq/stuff/Exec.html" target="_top">Frames</a></li>
<li><a href="Exec.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">monq.stuff</div>
<h2 title="Class Exec" class="title">Class Exec</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>monq.stuff.Exec</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd>java.lang.Runnable, <a href="../../monq/net/Service.html" title="interface in monq.net">Service</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="strong">Exec</span>
extends java.lang.Object
implements <a href="../../monq/net/Service.html" title="interface in monq.net">Service</a></pre>
<div class="block"><p>encapsulates a <code>java.lang.Process</code> object, feeds it with
 input and collects the output.</p>

 <p>Example use:<pre>
    Process p = new Process("your command here");
    Exec exec = new Exec(p);
    if( !exec.done() ) {
       // do something with exec.getErrorText()
       // check p.exitValue() if the above is empty
    }</pre>
 </p></div>
<dl><dt><span class="strong">Version:</span></dt>
  <dd>$Revision: 1.5 $, $Date: 2005-11-17 09:34:47 $</dd>
<dt><span class="strong">Author:</span></dt>
  <dd>&copy; 2004 Harald Kirsch</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../monq/stuff/Exec.html#Exec(java.lang.Process)">Exec</a></strong>(java.lang.Process&nbsp;p)</code>
<div class="block">creates an execution environment for the running process
 <code>p</code> which immediately closes its standard input and
 collects standard output and standard error output
 internally.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><strong><a href="../../monq/stuff/Exec.html#Exec(java.lang.Process,%20java.io.InputStream,%20java.io.OutputStream,%20java.io.OutputStream)">Exec</a></strong>(java.lang.Process&nbsp;p,
    java.io.InputStream&nbsp;in,
    java.io.OutputStream&nbsp;output,
    java.io.OutputStream&nbsp;error)</code>
<div class="block">creates an execution environment which feeds the given process
 input, collects its output and registers the exit code.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../monq/stuff/Exec.html#done()">done</a></strong>()</code>
<div class="block">starts feeding the process by calling <a href="../../monq/stuff/Exec.html#run()"><code>run()</code></a>, waits for it
 to finish and then returns <a href="../../monq/stuff/Exec.html#ok()"><code>ok()</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../monq/stuff/Exec.html#finished()">finished</a></strong>()</code>
<div class="block">asynchronuously tests if the process finished in the meantime.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../monq/stuff/Exec.html#getErrorText()">getErrorText</a></strong>()</code>
<div class="block">if no explicit output sink was specified in the constructor, this
 method returns the output collected from the process.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.lang.Exception</code></td>
<td class="colLast"><code><strong><a href="../../monq/stuff/Exec.html#getException()">getException</a></strong>()</code>
<div class="block">returns whatever <code>Exception</code> happened in one of the
 <a href="../../monq/stuff/Pipe.html" title="class in monq.stuff"><code>Pipe</code></a> threads used to copy data to the process or read
 output or error from the process.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../monq/stuff/Exec.html#getOutputText()">getOutputText</a></strong>()</code>
<div class="block">if no explicit error output sink was specified in the
 constructor, this method returns the error text collected from
 the process.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../monq/stuff/Exec.html#ok()">ok</a></strong>()</code>
<div class="block">returns <code>true</code> if the process execution went
 well.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../monq/stuff/Exec.html#run()">run</a></strong>()</code>
<div class="block">feeds the process with input and collects the output according to
 the information given in the constructor.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="Exec(java.lang.Process, java.io.InputStream, java.io.OutputStream, java.io.OutputStream)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>Exec</h4>
<pre>public&nbsp;Exec(java.lang.Process&nbsp;p,
    java.io.InputStream&nbsp;in,
    java.io.OutputStream&nbsp;output,
    java.io.OutputStream&nbsp;error)</pre>
<div class="block"><p>creates an execution environment which feeds the given process
 input, collects its output and registers the exit code. You have
 to call either <a href="../../monq/stuff/Exec.html#run()"><code>run()</code></a> or <a href="../../monq/stuff/Exec.html#done()"><code>done()</code></a> explicitly to get
 things going.</p></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>p</code> - a running process</dd><dd><code>in</code> - is the data source to feed into the standard input of
 <code>p</code>. May be <code>null</code> in which case the standard
 input of <code>p</code> is immediately closed.</dd><dd><code>output</code> - is the output sink for the standard output of
 <code>p</code>. It may be <code>null</code> in which case the
 output is collected internally and made available via <a href="../../monq/stuff/Exec.html#getOutputText()"><code>getOutputText()</code></a>.</dd><dd><code>error</code> - is the sink for the standard error output of
 <code>p</code>. If it is <code>null</code>, it is collected and
 made available via <a href="../../monq/stuff/Exec.html#getErrorText()"><code>getErrorText()</code></a>.</dd></dl>
</li>
</ul>
<a name="Exec(java.lang.Process)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>Exec</h4>
<pre>public&nbsp;Exec(java.lang.Process&nbsp;p)</pre>
<div class="block">creates an execution environment for the running process
 <code>p</code> which immediately closes its standard input and
 collects standard output and standard error output
 internally. The latter two can then be retrieved with <a href="../../monq/stuff/Exec.html#getOutputText()"><code>getOutputText()</code></a> and it is <code>null</code>, it is collected and
 made available via <a href="../../monq/stuff/Exec.html#getErrorText()"><code>getErrorText()</code></a>.</p>

 <p>This is equivalent to <code>Exec(p, null, null, null)</code>.</p></div>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="finished()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>finished</h4>
<pre>public&nbsp;boolean&nbsp;finished()</pre>
<div class="block"><p>asynchronuously tests if the process finished in the meantime.</p></div>
</li>
</ul>
<a name="ok()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ok</h4>
<pre>public&nbsp;boolean&nbsp;ok()</pre>
<div class="block"><p>returns <code>true</code> if the process execution went
 well. The return value will be <code>false</code> if either</p>
 <ul>
 <li>the exit value was non-zero,</li>
 <li>an exception was thrown by one of the threads piping to from
 and to the subprocess (see <a href="../../monq/stuff/Exec.html#getException()"><code>getException()</code></a>),</li>
 <li>no output sink was set up in the constructor for the error
 output stream of the process and some output was generated.</li>
 </ul>

 <p><span style="color:green">Note:</span>If an error output sink
 was explicitely given in the constructor, it is not watched to
 see if any data is produced. In this case <code>ok()</code>
 merely checks the exit value of the process and exceptions.
 </p></div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.IllegalStateException</code> - if the process has not finished
 yet.</dd></dl>
</li>
</ul>
<a name="done()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>done</h4>
<pre>public&nbsp;boolean&nbsp;done()</pre>
<div class="block">starts feeding the process by calling <a href="../../monq/stuff/Exec.html#run()"><code>run()</code></a>, waits for it
 to finish and then returns <a href="../../monq/stuff/Exec.html#ok()"><code>ok()</code></a>.</div>
</li>
</ul>
<a name="getException()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getException</h4>
<pre>public&nbsp;java.lang.Exception&nbsp;getException()</pre>
<div class="block"><p>returns whatever <code>Exception</code> happened in one of the
 <a href="../../monq/stuff/Pipe.html" title="class in monq.stuff"><code>Pipe</code></a> threads used to copy data to the process or read
 output or error from the process. Since there are up to three
 data streams connected to the process in parallel threads, it can
 not be guaranteed that the first one failing will be
 reported. Rather they are prioritized in the order stdin, stdout,
 stderr.</p></div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../monq/net/Service.html#getException()">getException</a></code>&nbsp;in interface&nbsp;<code><a href="../../monq/net/Service.html" title="interface in monq.net">Service</a></code></dd>
</dl>
</li>
</ul>
<a name="getErrorText()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getErrorText</h4>
<pre>public&nbsp;java.lang.String&nbsp;getErrorText()</pre>
<div class="block"><p>if no explicit output sink was specified in the constructor, this
 method returns the output collected from the process.</p></div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.IllegalStateException</code> - if the process has not finished
 yet.</dd></dl>
</li>
</ul>
<a name="getOutputText()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getOutputText</h4>
<pre>public&nbsp;java.lang.String&nbsp;getOutputText()</pre>
<div class="block"><p>if no explicit error output sink was specified in the
 constructor, this method returns the error text collected from
 the process.</p></div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.IllegalStateException</code> - if the process has not finished
 yet.</dd></dl>
</li>
</ul>
<a name="run()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>run</h4>
<pre>public&nbsp;void&nbsp;run()</pre>
<div class="block"><p>feeds the process with input and collects the output according to
 the information given in the constructor. The method will return
 when the process has finished and all data produced by it was
 read. In addition, <code>run()</code> will kill the process and
 return, if the thread it is running in is interrupted.</p></div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code>run</code>&nbsp;in interface&nbsp;<code>java.lang.Runnable</code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Exec.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
</ul>
<div class="aboutLanguage"><em>monq-1.7.1</em></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../monq/stuff/EncodingDetector.html" title="class in monq.stuff"><span class="strong">Prev Class</span></a></li>
<li><a href="../../monq/stuff/Feeder.html" title="interface in monq.stuff"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?monq/stuff/Exec.html" target="_top">Frames</a></li>
<li><a href="Exec.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small><div class="monqlink">download: <a href='https://pifpafpuf.de/Monq.jfa/download' target='_top'>pifpafpuf.de</a><br/>home page: <a href="http://pifpafpuf.de/Monq.jfa/" target='_top'>pifpafpuf.de/Monq.jfa</a></div></small></p>
</body>
</html>
